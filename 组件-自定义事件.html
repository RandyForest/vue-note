<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>组件-自定义事件</title>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
</head>

<body>
    <!-- 使用： <自定义标签 v-on:自定义事件="方法"> -->
    <div id="app">
        <welcome-button v-on:welcome="sayHi"></welcome-button>
    </div>

    <!-- 定义： <标签 v-on:原生事件="$emit('自定义事件名')"> -->
    <script>
        Vue.component('welcome-button', {
            template: `<button v-on:click="$emit('welcome')">点击</button>`
        })

        new Vue({
            el: '#app',
            methods: {
                sayHi: function () {
                    alert('Hi!')
                }
            }
        })
    </script>

    <hr>

    <div id="app2">
        <button class="button">BUTTON</button>
        <h4></h4>
    </div>

    <script>
        var button = document.querySelector('.button')
        var label = document.querySelector('h4')

        var clickStream = Rx.Observable.fromEvent(button, 'click')
        var tripleClickStream = clickStream.bufferTime(700).map(arr => arr.length).filter(len => len === 3)

        tripleClickStream.subscribe(x => {
            console.log(x)
            label.textContent = 'triple click'
        })

        tripleClickStream.delay(1000).subscribe(x => {
            label.textContent = '-'
        })

        new Vue({
            el: "#app2"
        });
    </script>
</body>

</html>